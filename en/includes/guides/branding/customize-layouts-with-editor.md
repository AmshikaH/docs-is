# Customize layouts with editor

{% if product_name == "Asgardeo" %}
!!! note
    Only customers on the enterprise tier can access this feature.
{% endif %}

You can now effortlessly customize the branding and layout of user interfaces such as login, registration, and recovery pages using the new in-console editor.  
{% if product_name == "WSO2 Identity Server" %}
This feature enables you to apply changes instantly, eliminating the need to edit files or manually rebuild artifacts.  
{% else %}
This feature allows you to make changes instantly, without requiring support from the Asgardeo team.  
{% endif %}

## Enabling the editor

To use the editor for customizing layouts, follow these steps:

1. Log in to the {{product_name}} Console.
2. Navigate to the **Branding** section from the side panel and select the **Styles & Text** subsection.
3. Enable branding by clicking the **Save & Publish** button in the **Styles & Text** section.
4. Go to the **Design** tab under the **Styles & Text** section.
5. In the **Login Layouts** section, select the **Custom** layout card.
6. Click the **Create** button in the preview section to load the HTML, CSS, and JavaScript editor.

Once you load the editor, you can begin customizing the layout as needed.

## General components of the user interface

All pages in WSO2 Identity Server consist of three primary components, as illustrated below. You can reference these components when creating a custom layout.

![Login Page]({{base_path}}/assets/img/guides/branding/login-page-labelled.png)

## Layout syntax formats

This section describes the special syntax used to define custom layouts.

### Component syntax

The component syntax specifies the placement of general components within the custom layout code. During runtime, the system replaces these syntax elements with actual content.

!!! note
    To successfully publish a layout, make sure to include the `{% raw %}{{{MainSection}}}{% endraw %}` component in the HTML code. The `{% raw %}{{{ProductHeader}}}{% endraw %}` and `{% raw %}{{{ProductFooter}}}{% endraw %}` components remain optional.

```html
<div class="page-wrapper layout-file">
    <main class="center-segment">
        <div class="ui container medium center aligned middle">
            {% raw %}{{{ProductHeader}}}{% endraw %}
            {% raw %}{{{MainSection}}}{% endraw %}
        </div>
        {% raw %}{{{ProductFooter}}}{% endraw %}
    </main>
</div>
```

### Data syntax

When customizing layouts using the layout editor, you can leverage `data-*` attributes injected into the `<body>` tag of each page. These attributes allow you to style or control logic dynamically based on the page context.

#### Available `data-*` attributes

The following table lists the `data-*` attributes available for customization:

| Attribute                        | Description                                                                 | Example Value               |
|----------------------------------|-----------------------------------------------------------------------------|-----------------------------|
| `data-page`                      | Specifies the name of the current page.                                     | `sign-in`, `logout`         |
| `data-response-type`              | Indicates whether the page displays an error or success message.            | `error`, `success`          |
| `data-dynamic-prompt-template-id`| Available only for dynamic prompt pages generated by adaptive scripts.       | `genericForm`              |

#### Common `data-page` values

The following table shows common `data-page` values for conditional rendering. You can find all available attributes for each page in the `<body>` tag.

| Page                            | `data-page` Value                      |
|---------------------------------|----------------------------------------|
| Login                           | `sign-in`                              |
| Logout                          | `logout`                               |
| Error Pages                     | `error`, `totp-error`, `oauth2-error`, `duo-error`, etc. |
| Self-Registration               | `self-registration`, `self-registration-complete`, `self-registration-username-request` |
| Password Recovery               | `password-recovery`, `password-reset`, `password-reset-success` |
| Username Recovery               | `username-recovery`, `username-recovery-complete` |
| TOTP                            | `totp`, `totp-error`                   |
| SMS OTP                         | `sms-otp`, `sms-otp-error`             |
| Email OTP                       | `email-otp`, `email-otp-error`         |
| Push Authentication             | `push-auth`, `push-auth-error`         |
| Device Success Pages            | `device-success`                       |
| Policies                        | `privacy-policy`, `cookie-policy`      |
| Account Linking / Invite Flow   | `accept-invitation`                    |
| Other                           | `retry`, `consent`, `domain`, `oauth2-consent`, etc. |

#### Accessing `data-*` attributes

You can access these attributes in both CSS and JavaScript to apply custom styles or logic.

- **Using CSS**

    ```css
    body[data-page="sign-in"][data-response-type="error"] .message {
        color: red;
        font-weight: bold;
    }
    ```

- **Using JavaScript**

    ```javascript
    if (document.body.dataset.page === "sign-in") {
        // Perform sign-in page-specific logic
    }
    ```

By utilizing these attributes, you can create dynamic and responsive layouts tailored to specific pages and scenarios.

## Try out customize layout through an application

After creating a custom layout using the HTML, CSS, and JS editors, click `Save & Publish` to save your changes. Then, access the login, registration, or recovery pages through a configured application in {{product_name}} to instantly preview your updates.

!!! note "Application-specific layouts"
    To apply custom layouts to a specific application, use the application selector in the top-right corner of the branding view to choose your desired app. The layout changes you apply will then be specific to that application.

## Best practices for creating custom layouts

Follow these best practices to create effective, maintainable, and compatible custom layouts:

### Resource management

When referencing assets such as images, fonts, or icons, always use publicly accessible hosted resources. This ensures reliability and prevents performance issues.

- **Correct Example**:

    ```html
    <img src="https://example.com/assets/img.jpg">
    ```

- **Incorrect Example**:

    ```html
    <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100">
        <circle cx="50" cy="50" r="40" stroke="black" stroke-width="3" fill="blue" />
        <text x="50" y="55" font-size="12" text-anchor="middle" fill="white">Sample</text>
    </svg>
    ```

### Class names

To avoid conflicts with existing styles, always add a unique prefix to your custom CSS classes. This helps maintain a clean and organized stylesheet.

- **Example**:

    ```css
    .unique-prefix-button {
        background-color: #007bff;
        color: #fff;
    }
    ```
